{"version":3,"sources":["playback-animation.js"],"names":["define","langx","styler","noder","eventer","animates","$","plugins","PlaybackAnimation","Plugin","inherit","klassName","pluginName","options","classes","play","pause","selectors","playbackAnimation","_construct","elm","prototype","call","this","$el","$media","_media","media","$playbackAnimation","find","listenTo","animatePlayback","paused","removeClass","addClass","animate","opacity","transform","duration","register"],"mappings":";;;;;;;AAAAA,QACE,gBACA,sBACA,qBACA,uBACA,wBACA,qBACA,6BACA,SAASC,EAAMC,EAAOC,EAAOC,EAAQC,EAASC,EAAIC,GAElD,aAEA,IAAIC,EAAoBD,EAAQE,OAAOC,SACrCC,UAAY,oBAEZC,WAAa,kCAEbC,SACEC,SACEC,KAAO,OACPC,MAAQ,SAEVC,WACEC,kBAAoB,OAMxBC,WAAY,SAASC,EAAKP,GAExBN,EAAQE,OAAOY,UAAUF,WAAWG,KAAKC,KAAKH,EAAIP,GAElD,IAAIW,EAAMD,KAAKjB,IACXW,EAAYM,KAAKV,QAAQI,UACzBQ,EAASF,KAAKG,OAASH,KAAKV,QAAQc,MAIpCV,EAAUC,kBACZK,KAAKK,mBAAqBJ,EAAIK,KAAKZ,EAAUC,mBAE7CK,KAAKK,mBAAqBJ,EAI5BD,KAAKO,SAASL,EAAO,QAAQF,KAAKQ,kBAOpCA,gBAAkB,WAGZR,KAAKG,OAAOM,SACdT,KAAKK,mBAAmBK,YAAYV,KAAKV,QAAQC,QAAQC,MAAMmB,SAASX,KAAKV,QAAQC,QAAQE,OAE7FO,KAAKK,mBAAmBK,YAAYV,KAAKV,QAAQC,QAAQE,OAAOkB,SAASX,KAAKV,QAAQC,QAAQC,MAGhGQ,KAAKK,mBAAmBO,UAGlBC,QAAS,EACTC,UAAW,aAGXD,QAAS,EACTC,UAAW,gBAIbC,SAAU,SAUlB,OAFA/B,EAAQgC,SAAS/B,GAEVA","file":"../playback-animation.js","sourcesContent":["define([\r\n  \"skylark-langx\",\r\n  \"skylark-domx-styler\",\r\n  \"skylark-domx-noder\",\r\n  \"skylark-domx-eventer\",\r\n  \"skylark-domx-animates\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-domx-plugins-base\"\r\n],function(langx,styler,noder, eventer,animates,$ , plugins) {\r\n\r\n  'use strict'\r\n\r\n  var PlaybackAnimation = plugins.Plugin.inherit({\r\n    klassName : \"PlaybackAnimation\",\r\n\r\n    pluginName : \"domx.players.playback_animation\",\r\n   \r\n    options : {\r\n      classes : {\r\n        play : \"play\",\r\n        pause : \"pause\"\r\n      },\r\n      selectors : {\r\n        playbackAnimation : null //'.playback-animation'\r\n\r\n      }\r\n    },\r\n\r\n\r\n    _construct: function(elm, options) {\r\n      //this.options = options\r\n      plugins.Plugin.prototype._construct.call(this,elm,options);\r\n\r\n      let $el = this.$(),\r\n          selectors = this.options.selectors,\r\n          $media = this._media = this.options.media;\r\n\r\n\r\n\r\n      if (selectors.playbackAnimation) {\r\n        this.$playbackAnimation = $el.find(selectors.playbackAnimation);\r\n      } else {\r\n        this.$playbackAnimation = $el;\r\n      }\r\n\r\n\r\n      this.listenTo($media,'click',this.animatePlayback);\r\n\r\n\r\n    },\r\n\r\n    // animatePlayback displays an animation when\r\n    // the video is played or paused\r\n    animatePlayback : function () {\r\n    // updatePlayButton updates the playback icon and tooltip\r\n    // depending on the playback state\r\n      if (this._media.paused()) {\r\n        this.$playbackAnimation.removeClass(this.options.classes.play).addClass(this.options.classes.pause);\r\n      } else {\r\n        this.$playbackAnimation.removeClass(this.options.classes.pause).addClass(this.options.classes.play);\r\n      }\r\n\r\n      this.$playbackAnimation.animate(\r\n        [\r\n          {\r\n            opacity: 1,\r\n            transform: 'scale(1)',\r\n          },\r\n          {\r\n            opacity: 0,\r\n            transform: 'scale(1.3)',\r\n          },\r\n        ],\r\n        {\r\n          duration: 500,\r\n        }\r\n      );\r\n    }\r\n\r\n\r\n  });\r\n\r\n  plugins.register(PlaybackAnimation);\r\n\r\n  return PlaybackAnimation;\r\n});\r\n\r\n"]}